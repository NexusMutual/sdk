[
  {
    "type": "constructor",
    "payable": false,
    "inputs": [
      {
        "type": "address",
        "name": "_stakingNFT"
      },
      {
        "type": "address",
        "name": "_token"
      },
      {
        "type": "address",
        "name": "_coverContract"
      },
      {
        "type": "address",
        "name": "_tokenController"
      },
      {
        "type": "address",
        "name": "_master"
      },
      {
        "type": "address",
        "name": "_stakingProducts"
      }
    ]
  },
  {
    "type": "error",
    "name": "InsufficientCapacity",
    "inputs": []
  },
  {
    "type": "error",
    "name": "InsufficientDepositAmount",
    "inputs": []
  },
  {
    "type": "error",
    "name": "InvalidStakingPoolForToken",
    "inputs": []
  },
  {
    "type": "error",
    "name": "InvalidTokenId",
    "inputs": []
  },
  {
    "type": "error",
    "name": "ManagerNxmIsLockedForGovernanceVote",
    "inputs": []
  },
  {
    "type": "error",
    "name": "MaxPoolFeeAbove100",
    "inputs": []
  },
  {
    "type": "error",
    "name": "NewTrancheEndsBeforeInitialTranche",
    "inputs": []
  },
  {
    "type": "error",
    "name": "NotTokenOwnerOrApproved",
    "inputs": []
  },
  {
    "type": "error",
    "name": "NxmIsLockedForGovernanceVote",
    "inputs": []
  },
  {
    "type": "error",
    "name": "OnlyCoverContract",
    "inputs": []
  },
  {
    "type": "error",
    "name": "OnlyManager",
    "inputs": []
  },
  {
    "type": "error",
    "name": "PoolFeeExceedsMax",
    "inputs": []
  },
  {
    "type": "error",
    "name": "PoolHalted",
    "inputs": []
  },
  {
    "type": "error",
    "name": "PrivatePool",
    "inputs": []
  },
  {
    "type": "error",
    "name": "RequestedTrancheIsExpired",
    "inputs": []
  },
  {
    "type": "error",
    "name": "RequestedTrancheIsNotYetActive",
    "inputs": []
  },
  {
    "type": "error",
    "name": "RevertedWithoutReason",
    "inputs": [
      {
        "type": "uint256",
        "name": "index"
      }
    ]
  },
  {
    "type": "error",
    "name": "RewardRatioTooHigh",
    "inputs": []
  },
  {
    "type": "error",
    "name": "SystemPaused",
    "inputs": []
  },
  {
    "type": "event",
    "anonymous": false,
    "name": "DepositExtended",
    "inputs": [
      {
        "type": "address",
        "name": "user",
        "indexed": true
      },
      {
        "type": "uint256",
        "name": "tokenId",
        "indexed": false
      },
      {
        "type": "uint256",
        "name": "initialTrancheId",
        "indexed": false
      },
      {
        "type": "uint256",
        "name": "newTrancheId",
        "indexed": false
      },
      {
        "type": "uint256",
        "name": "topUpAmount",
        "indexed": false
      }
    ]
  },
  {
    "type": "event",
    "anonymous": false,
    "name": "PoolDescriptionSet",
    "inputs": [
      {
        "type": "string",
        "name": "ipfsDescriptionHash",
        "indexed": false
      }
    ]
  },
  {
    "type": "event",
    "anonymous": false,
    "name": "PoolFeeChanged",
    "inputs": [
      {
        "type": "address",
        "name": "manager",
        "indexed": true
      },
      {
        "type": "uint256",
        "name": "newFee",
        "indexed": false
      }
    ]
  },
  {
    "type": "event",
    "anonymous": false,
    "name": "PoolPrivacyChanged",
    "inputs": [
      {
        "type": "address",
        "name": "manager",
        "indexed": true
      },
      {
        "type": "bool",
        "name": "isPrivate",
        "indexed": false
      }
    ]
  },
  {
    "type": "event",
    "anonymous": false,
    "name": "StakeBurned",
    "inputs": [
      {
        "type": "uint256",
        "name": "amount",
        "indexed": false
      }
    ]
  },
  {
    "type": "event",
    "anonymous": false,
    "name": "StakeDeposited",
    "inputs": [
      {
        "type": "address",
        "name": "user",
        "indexed": true
      },
      {
        "type": "uint256",
        "name": "amount",
        "indexed": false
      },
      {
        "type": "uint256",
        "name": "trancheId",
        "indexed": false
      },
      {
        "type": "uint256",
        "name": "tokenId",
        "indexed": false
      }
    ]
  },
  {
    "type": "event",
    "anonymous": false,
    "name": "Withdraw",
    "inputs": [
      {
        "type": "address",
        "name": "user",
        "indexed": true
      },
      {
        "type": "uint256",
        "name": "tokenId",
        "indexed": true
      },
      {
        "type": "uint256",
        "name": "tranche",
        "indexed": false
      },
      {
        "type": "uint256",
        "name": "amountStakeWithdrawn",
        "indexed": false
      },
      {
        "type": "uint256",
        "name": "amountRewardsWithdrawn",
        "indexed": false
      }
    ]
  },
  {
    "type": "function",
    "name": "ALLOCATION_UNITS_PER_NXM",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "BUCKET_DURATION",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "BUCKET_TRANCHE_GROUP_SIZE",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "CAPACITY_REDUCTION_DENOMINATOR",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "COVER_TRANCHE_GROUP_SIZE",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "GLOBAL_CAPACITY_DENOMINATOR",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "MAX_ACTIVE_TRANCHES",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "NXM_PER_ALLOCATION_UNIT",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "ONE_NXM",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "POOL_FEE_DENOMINATOR",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "REWARDS_DENOMINATOR",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "REWARD_BONUS_PER_TRANCHE_DENOMINATOR",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "REWARD_BONUS_PER_TRANCHE_RATIO",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "TRANCHE_DURATION",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "WEIGHT_DENOMINATOR",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "burnStake",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "amount"
      },
      {
        "type": "tuple",
        "name": "params",
        "components": [
          {
            "type": "uint256",
            "name": "allocationId"
          },
          {
            "type": "uint256",
            "name": "productId"
          },
          {
            "type": "uint256",
            "name": "start"
          },
          {
            "type": "uint256",
            "name": "period"
          },
          {
            "type": "uint256",
            "name": "deallocationAmount"
          }
        ]
      }
    ],
    "outputs": []
  },
  {
    "type": "function",
    "name": "calculateNewRewardShares",
    "constant": true,
    "stateMutability": "pure",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "initialStakeShares"
      },
      {
        "type": "uint256",
        "name": "stakeSharesIncrease"
      },
      {
        "type": "uint256",
        "name": "initialTrancheId"
      },
      {
        "type": "uint256",
        "name": "newTrancheId"
      },
      {
        "type": "uint256",
        "name": "blockTimestamp"
      }
    ],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "coverContract",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "name": "coverTrancheAllocations",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256"
      }
    ],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "depositTo",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "amount"
      },
      {
        "type": "uint256",
        "name": "trancheId"
      },
      {
        "type": "uint256",
        "name": "requestTokenId"
      },
      {
        "type": "address",
        "name": "destination"
      }
    ],
    "outputs": [
      {
        "type": "uint256",
        "name": "tokenId"
      }
    ]
  },
  {
    "type": "function",
    "name": "deposits",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256"
      },
      {
        "type": "uint256"
      }
    ],
    "outputs": [
      {
        "type": "uint96",
        "name": "lastAccNxmPerRewardShare"
      },
      {
        "type": "uint96",
        "name": "pendingRewards"
      },
      {
        "type": "uint128",
        "name": "stakeShares"
      },
      {
        "type": "uint128",
        "name": "rewardsShares"
      }
    ]
  },
  {
    "type": "function",
    "name": "expiringCoverBuckets",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256"
      },
      {
        "type": "uint256"
      },
      {
        "type": "uint256"
      }
    ],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "extendDeposit",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "tokenId"
      },
      {
        "type": "uint256",
        "name": "initialTrancheId"
      },
      {
        "type": "uint256",
        "name": "newTrancheId"
      },
      {
        "type": "uint256",
        "name": "topUpAmount"
      }
    ],
    "outputs": []
  },
  {
    "type": "function",
    "name": "getAccNxmPerRewardsShare",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getActiveAllocations",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "productId"
      }
    ],
    "outputs": [
      {
        "type": "uint256[]",
        "name": "trancheAllocations"
      }
    ]
  },
  {
    "type": "function",
    "name": "getActiveStake",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getActiveTrancheCapacities",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "productId"
      },
      {
        "type": "uint256",
        "name": "globalCapacityRatio"
      },
      {
        "type": "uint256",
        "name": "capacityReductionRatio"
      }
    ],
    "outputs": [
      {
        "type": "uint256[]",
        "name": "trancheCapacities"
      },
      {
        "type": "uint256",
        "name": "totalCapacity"
      }
    ]
  },
  {
    "type": "function",
    "name": "getDeposit",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "tokenId"
      },
      {
        "type": "uint256",
        "name": "trancheId"
      }
    ],
    "outputs": [
      {
        "type": "uint256",
        "name": "lastAccNxmPerRewardShare"
      },
      {
        "type": "uint256",
        "name": "pendingRewards"
      },
      {
        "type": "uint256",
        "name": "stakeShares"
      },
      {
        "type": "uint256",
        "name": "rewardsShares"
      }
    ]
  },
  {
    "type": "function",
    "name": "getExpiredTranche",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "trancheId"
      }
    ],
    "outputs": [
      {
        "type": "uint256",
        "name": "accNxmPerRewardShareAtExpiry"
      },
      {
        "type": "uint256",
        "name": "stakeAmountAtExpiry"
      },
      {
        "type": "uint256",
        "name": "stakeSharesSupplyAtExpiry"
      }
    ]
  },
  {
    "type": "function",
    "name": "getFirstActiveBucketId",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getFirstActiveTrancheId",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getLastAccNxmUpdate",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getMaxPoolFee",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getNextAllocationId",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getPoolFee",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getPoolId",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getRewardPerSecond",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getRewardsSharesSupply",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getStakeSharesSupply",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "getTranche",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "trancheId"
      }
    ],
    "outputs": [
      {
        "type": "uint256",
        "name": "stakeShares"
      },
      {
        "type": "uint256",
        "name": "rewardsShares"
      }
    ]
  },
  {
    "type": "function",
    "name": "getTrancheCapacities",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "productId"
      },
      {
        "type": "uint256",
        "name": "firstTrancheId"
      },
      {
        "type": "uint256",
        "name": "trancheCount"
      },
      {
        "type": "uint256",
        "name": "capacityRatio"
      },
      {
        "type": "uint256",
        "name": "reductionRatio"
      }
    ],
    "outputs": [
      {
        "type": "uint256[]",
        "name": "trancheCapacities"
      }
    ]
  },
  {
    "type": "function",
    "name": "initialize",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "bool",
        "name": "_isPrivatePool"
      },
      {
        "type": "uint256",
        "name": "_initialPoolFee"
      },
      {
        "type": "uint256",
        "name": "_maxPoolFee"
      },
      {
        "type": "uint256",
        "name": "_poolId"
      },
      {
        "type": "string",
        "name": "ipfsDescriptionHash"
      }
    ],
    "outputs": []
  },
  {
    "type": "function",
    "name": "isHalted",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "bool"
      }
    ]
  },
  {
    "type": "function",
    "name": "isPrivatePool",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "bool"
      }
    ]
  },
  {
    "type": "function",
    "name": "manager",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "name": "masterContract",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "name": "multicall",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "bytes[]",
        "name": "data"
      }
    ],
    "outputs": [
      {
        "type": "bytes[]",
        "name": "results"
      }
    ]
  },
  {
    "type": "function",
    "name": "nxm",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "name": "processExpirations",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "bool",
        "name": "updateUntilCurrentTimestamp"
      }
    ],
    "outputs": []
  },
  {
    "type": "function",
    "name": "requestAllocation",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "amount"
      },
      {
        "type": "uint256",
        "name": "previousPremium"
      },
      {
        "type": "tuple",
        "name": "request",
        "components": [
          {
            "type": "uint256",
            "name": "productId"
          },
          {
            "type": "uint256",
            "name": "coverId"
          },
          {
            "type": "uint256",
            "name": "allocationId"
          },
          {
            "type": "uint256",
            "name": "period"
          },
          {
            "type": "uint256",
            "name": "gracePeriod"
          },
          {
            "type": "bool",
            "name": "useFixedPrice"
          },
          {
            "type": "uint256",
            "name": "previousStart"
          },
          {
            "type": "uint256",
            "name": "previousExpiration"
          },
          {
            "type": "uint256",
            "name": "previousRewardsRatio"
          },
          {
            "type": "uint256",
            "name": "globalCapacityRatio"
          },
          {
            "type": "uint256",
            "name": "capacityReductionRatio"
          },
          {
            "type": "uint256",
            "name": "rewardRatio"
          },
          {
            "type": "uint256",
            "name": "globalMinPrice"
          }
        ]
      }
    ],
    "outputs": [
      {
        "type": "uint256",
        "name": "premium"
      },
      {
        "type": "uint256",
        "name": "allocationId"
      }
    ]
  },
  {
    "type": "function",
    "name": "rewardPerSecondCut",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256"
      }
    ],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "setPoolDescription",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "string",
        "name": "ipfsDescriptionHash"
      }
    ],
    "outputs": []
  },
  {
    "type": "function",
    "name": "setPoolFee",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "newFee"
      }
    ],
    "outputs": []
  },
  {
    "type": "function",
    "name": "setPoolPrivacy",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "bool",
        "name": "_isPrivatePool"
      }
    ],
    "outputs": []
  },
  {
    "type": "function",
    "name": "stakingNFT",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "name": "stakingProducts",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "name": "tokenController",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [],
    "outputs": [
      {
        "type": "address"
      }
    ]
  },
  {
    "type": "function",
    "name": "trancheAllocationGroups",
    "constant": true,
    "stateMutability": "view",
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256"
      },
      {
        "type": "uint256"
      }
    ],
    "outputs": [
      {
        "type": "uint256"
      }
    ]
  },
  {
    "type": "function",
    "name": "withdraw",
    "constant": false,
    "payable": false,
    
    "inputs": [
      {
        "type": "uint256",
        "name": "tokenId"
      },
      {
        "type": "bool",
        "name": "withdrawStake"
      },
      {
        "type": "bool",
        "name": "withdrawRewards"
      },
      {
        "type": "uint256[]",
        "name": "trancheIds"
      }
    ],
    "outputs": [
      {
        "type": "uint256",
        "name": "withdrawnStake"
      },
      {
        "type": "uint256",
        "name": "withdrawnRewards"
      }
    ]
  }
]